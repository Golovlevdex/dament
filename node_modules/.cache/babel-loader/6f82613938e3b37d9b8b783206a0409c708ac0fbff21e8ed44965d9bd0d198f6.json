{"ast":null,"code":"var _jsxFileName = \"C:\\\\vsc\\\\dament\\\\src\\\\GameBoard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// ...existing code...\n\nconst GameBoard = ({\n  board,\n  selectedCells = [],\n  onCellSelect,\n  flashColor\n}) => {\n  _s();\n  const getCoords = idx => [Math.floor(idx / 4), idx % 4];\n  const [isDragging, setIsDragging] = useState(false);\n  const dragCells = useRef([]);\n\n  // Начало свайпа\n  const handleStart = (row, col) => {\n    setIsDragging(true);\n    dragCells.current = [[row, col]];\n    if (onCellSelect) onCellSelect(row, col);\n  };\n  // Добавление ячейки при движении\n  const handleEnter = (row, col) => {\n    if (!isDragging) return;\n    if (dragCells.current.some(([r, c]) => r === row && c === col)) return;\n    dragCells.current.push([row, col]);\n    if (onCellSelect) onCellSelect(row, col);\n  };\n  // Завершение свайпа\n  const handleEnd = () => {\n    setIsDragging(false);\n    dragCells.current = [];\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(4, 48px)',\n      gap: 8\n    },\n    onMouseUp: handleEnd,\n    onTouchEnd: handleEnd,\n    children: board.flat().map((cell, idx) => {\n      const [row, col] = getCoords(idx);\n      const isSelected = selectedCells.some(([r, c]) => r === row && c === col);\n      let bg = '#e0e0e0';\n      if (cell.bonus === 'doubleLetter') bg = '#ffe082';\n      if (cell.bonus === 'rareBonus') bg = '#ce93d8';\n      if (isSelected) bg = '#90caf9';\n      if (isSelected && flashColor === 'green') bg = '#a5d6a7';\n      if (isSelected && flashColor === 'red') bg = '#ef9a9a';\n      let bonusIcon = '';\n      if (cell.bonus === 'doubleLetter') bonusIcon = '×2';\n      if (cell.bonus === 'rareBonus') bonusIcon = '★';\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 48,\n          height: 48,\n          background: bg,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontSize: 24,\n          borderRadius: 8,\n          cursor: onCellSelect ? 'pointer' : 'default',\n          transition: 'background 0.2s',\n          boxShadow: isSelected ? '0 0 0 2px #1976d2' : undefined\n        },\n        onMouseDown: () => handleStart(row, col),\n        onMouseEnter: () => handleEnter(row, col),\n        onTouchStart: () => handleStart(row, col),\n        onTouchMove: e => {\n          const touch = e.touches[0];\n          const target = document.elementFromPoint(touch.clientX, touch.clientY);\n          if (target && target.dataset && target.dataset.idx) {\n            const idx2 = parseInt(target.dataset.idx);\n            const [r2, c2] = getCoords(idx2);\n            handleEnter(r2, c2);\n          }\n        },\n        \"data-idx\": idx,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: cell.letter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), bonusIcon && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 12,\n            color: '#6d4c41'\n          },\n          children: bonusIcon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 27\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(GameBoard, \"zesoyf8JUppHKPyki5/op93zJZk=\");\n_c = GameBoard;\nexport default GameBoard;\nvar _c;\n$RefreshReg$(_c, \"GameBoard\");","map":{"version":3,"names":["React","useRef","useState","jsxDEV","_jsxDEV","GameBoard","board","selectedCells","onCellSelect","flashColor","_s","getCoords","idx","Math","floor","isDragging","setIsDragging","dragCells","handleStart","row","col","current","handleEnter","some","r","c","push","handleEnd","style","display","gridTemplateColumns","gap","onMouseUp","onTouchEnd","children","flat","map","cell","isSelected","bg","bonus","bonusIcon","width","height","background","flexDirection","alignItems","justifyContent","fontSize","borderRadius","cursor","transition","boxShadow","undefined","onMouseDown","onMouseEnter","onTouchStart","onTouchMove","e","touch","touches","target","document","elementFromPoint","clientX","clientY","dataset","idx2","parseInt","r2","c2","letter","fileName","_jsxFileName","lineNumber","columnNumber","color","_c","$RefreshReg$"],"sources":["C:/vsc/dament/src/GameBoard.tsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\r\n\r\nimport { Cell, BonusType } from \"./anagramGenerator\";\r\n\r\ninterface GameBoardProps {\r\n  board: Cell[][];\r\n  selectedCells?: Array<[number, number]>;\r\n  onCellSelect?: (row: number, col: number) => void;\r\n  flashColor?: string | null; // 'green' | 'red' | null\r\n}\r\n\r\n// ...existing code...\r\n\r\nconst GameBoard: React.FC<GameBoardProps> = ({ board, selectedCells = [], onCellSelect, flashColor }) => {\r\n  const getCoords = (idx: number) => [Math.floor(idx / 4), idx % 4] as [number, number];\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const dragCells = useRef<Array<[number, number]>>([]);\r\n\r\n  // Начало свайпа\r\n  const handleStart = (row: number, col: number) => {\r\n    setIsDragging(true);\r\n    dragCells.current = [[row, col]];\r\n    if (onCellSelect) onCellSelect(row, col);\r\n  };\r\n  // Добавление ячейки при движении\r\n  const handleEnter = (row: number, col: number) => {\r\n    if (!isDragging) return;\r\n    if (dragCells.current.some(([r, c]) => r === row && c === col)) return;\r\n    dragCells.current.push([row, col]);\r\n    if (onCellSelect) onCellSelect(row, col);\r\n  };\r\n  // Завершение свайпа\r\n  const handleEnd = () => {\r\n    setIsDragging(false);\r\n    dragCells.current = [];\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{ display: 'grid', gridTemplateColumns: 'repeat(4, 48px)', gap: 8 }}\r\n      onMouseUp={handleEnd}\r\n      onTouchEnd={handleEnd}\r\n    >\r\n      {board.flat().map((cell, idx) => {\r\n        const [row, col] = getCoords(idx);\r\n        const isSelected = selectedCells.some(([r, c]) => r === row && c === col);\r\n        let bg = '#e0e0e0';\r\n        if (cell.bonus === 'doubleLetter') bg = '#ffe082';\r\n        if (cell.bonus === 'rareBonus') bg = '#ce93d8';\r\n        if (isSelected) bg = '#90caf9';\r\n        if (isSelected && flashColor === 'green') bg = '#a5d6a7';\r\n        if (isSelected && flashColor === 'red') bg = '#ef9a9a';\r\n        let bonusIcon = '';\r\n        if (cell.bonus === 'doubleLetter') bonusIcon = '×2';\r\n        if (cell.bonus === 'rareBonus') bonusIcon = '★';\r\n        return (\r\n          <div\r\n            key={idx}\r\n            style={{\r\n              width: 48,\r\n              height: 48,\r\n              background: bg,\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              fontSize: 24,\r\n              borderRadius: 8,\r\n              cursor: onCellSelect ? 'pointer' : 'default',\r\n              transition: 'background 0.2s',\r\n              boxShadow: isSelected ? '0 0 0 2px #1976d2' : undefined\r\n            }}\r\n            onMouseDown={() => handleStart(row, col)}\r\n            onMouseEnter={() => handleEnter(row, col)}\r\n            onTouchStart={() => handleStart(row, col)}\r\n            onTouchMove={e => {\r\n              const touch = e.touches[0];\r\n              const target = document.elementFromPoint(touch.clientX, touch.clientY);\r\n              if (target && (target as HTMLElement).dataset && (target as HTMLElement).dataset.idx) {\r\n                const idx2 = parseInt((target as HTMLElement).dataset.idx!);\r\n                const [r2, c2] = getCoords(idx2);\r\n                handleEnter(r2, c2);\r\n              }\r\n            }}\r\n            data-idx={idx}\r\n          >\r\n            <span>{cell.letter}</span>\r\n            {bonusIcon && <span style={{ fontSize: 12, color: '#6d4c41' }}>{bonusIcon}</span>}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameBoard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}