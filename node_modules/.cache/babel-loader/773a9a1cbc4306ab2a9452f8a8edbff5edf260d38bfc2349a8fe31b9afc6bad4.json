{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import GameBoard from\"./GameBoard\";// import WordInput from \"./WordInput\";\nimport Results from\"./Results\";// Импортируем игровую логику\nimport{generateBoard,findAllWordsOnBoard,ROUND_DURATION,PAUSE_DURATION,letterBonuses}from\"./anagramGenerator\";import{isWordInDictionary,gameDictionary}from\"./dictionary\";import uiStrings from'./ui-strings-categorized.json';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getRandomWords=(count,dictionary)=>{const shuffled=[...dictionary].sort(()=>Math.random()-0.5);return shuffled.slice(0,count);};const App=()=>{// Для анимации счетчика найденных слов на анализаторе\nconst[analyzerWordCount,setAnalyzerWordCount]=useState(0);const[screen,setScreen]=useState('welcome');// Для свайп-старта\nconst START_WORD='СТАРТ';// Слово СТАРТ в одну горизонтальную линию (1x5)\nconst startBoard=[[...START_WORD].map((letter,idx)=>({letter,bonus:'none',row:0,col:idx}))];const[startFlashColor,setStartFlashColor]=useState(null);const[startSelected,setStartSelected]=useState([]);const[loadingProgress,setLoadingProgress]=useState(0);const[loadingMax,setLoadingMax]=useState(0);const[loadingTimer,setLoadingTimer]=useState(5);// roundData: { board, words } - единый источник истины для поля и слов на раунд\nconst[roundData,setRoundData]=useState(null);// Параметры генерации\nconst FIELD_SIZE=4;// размер поля (4x4)\nconst MIN_WORDS=15;// минимальное количество слов (снизили с 20)\nconst MAX_ATTEMPTS=500;// увеличили количество попыток\n// Сохраняем поле, сгенерированное для анализа, чтобы использовать его для первого раунда\nconst[timeLeft,setTimeLeft]=useState(ROUND_DURATION);const[foundWords,setFoundWords]=useState([]);const[score,setScore]=useState(0);const[message,setMessage]=useState(\"\");const[selectedCells,setSelectedCells]=useState([]);const[currentWord,setCurrentWord]=useState(\"\");const[flashColor,setFlashColor]=useState(null);const[phase,setPhase]=useState('playing');// deprecated: const [possibleWords, setPossibleWords] = useState<string[]>([]);\nconst leaderboard=[{name:\"Вы\",score}];useEffect(()=>{if(screen==='loading'&&loadingTimer>0){const timer=setTimeout(()=>setLoadingTimer(loadingTimer-1),1000);return()=>clearTimeout(timer);}else if(screen==='loading'&&loadingTimer===0){setScreen('game');}},[screen,loadingTimer]);// useEffect для анимации загрузки\nuseEffect(()=>{if(screen==='loading'&&loadingProgress<loadingMax&&loadingTimer>0){const step=Math.ceil(loadingMax/(loadingTimer*20));const interval=setInterval(()=>{setLoadingProgress(prev=>Math.min(prev+step,loadingMax));},50);return()=>clearInterval(interval);}},[screen,loadingProgress,loadingMax,loadingTimer]);useEffect(()=>{if(screen==='loading'&&loadingTimer>0){const timer=setTimeout(()=>setLoadingTimer(loadingTimer-1),1000);return()=>clearTimeout(timer);}else if(screen==='loading'&&loadingTimer===0){setScreen('game');}},[screen,loadingTimer]);// Таймер\nuseEffect(()=>{if(phase==='playing'&&timeLeft>0){const timer=setTimeout(()=>setTimeLeft(timeLeft-1),1000);return()=>clearTimeout(timer);}if(phase==='playing'&&timeLeft===0){setSelectedCells([]);setCurrentWord(\"\");setPhase('results');setTimeLeft(3);// 3 секунды на результаты (можно увеличить)\n}if(phase==='results'&&timeLeft>0){const timer=setTimeout(()=>setTimeLeft(timeLeft-1),1000);return()=>clearTimeout(timer);}if(phase==='results'&&timeLeft===0){setPhase('analyzer');setTimeLeft(PAUSE_DURATION);// 15 секунд анализатор\nsetAnalyzerWordCount(0);// сбрасываем счетчик для анимации\n}if(phase==='analyzer'&&timeLeft>0){const timer=setTimeout(()=>setTimeLeft(timeLeft-1),1000);return()=>clearTimeout(timer);}if(phase==='analyzer'&&timeLeft===0){// Новый раунд: генерируем новое поле и слова один раз\nconst words=getRandomWords(6,gameDictionary);const board=generateBoard({name:\"\",reward:\"\",words});const allPossibleWords=findAllWordsOnBoard(board).filter(word=>word.length>=3);setRoundData({board,words:allPossibleWords});setFoundWords([]);setPhase('playing');setTimeLeft(ROUND_DURATION);}// Анимация увеличения числа найденных слов на анализаторе\nuseEffect(()=>{if(phase==='analyzer'&&roundData){setAnalyzerWordCount(0);let current=0;const target=roundData.words.length;const duration=Math.max(800,Math.min(2000,target*40));// 0.8-2 сек\nconst stepTime=Math.max(20,duration/(target||1));const interval=setInterval(()=>{current++;setAnalyzerWordCount(prev=>{if(prev<target)return prev+1;clearInterval(interval);return prev;});if(current>=target){clearInterval(interval);}},stepTime);return()=>clearInterval(interval);}},[phase,roundData]);},[timeLeft,phase]);// Обработка завершения пути (свайп/drag)\nconst handlePathComplete=path=>{if(!roundData)return;if(path.length<3){setMessage(uiStrings.ошибки.минимумБукв);setFlashColor('red');setTimeout(()=>setFlashColor(null),300);setTimeout(()=>{setMessage(\"\");setSelectedCells([]);setCurrentWord(\"\");},350);return;}const word=path.map(_ref=>{let[r,c]=_ref;return roundData.board[r][c].letter;}).join(\"\");if(foundWords.includes(word)){setMessage(uiStrings.ошибки.ужеВводилось);setFlashColor('red');setTimeout(()=>setFlashColor(null),300);setTimeout(()=>{setMessage(\"\");setSelectedCells([]);setCurrentWord(\"\");},350);return;}if(!roundData.words.includes(word)||!isWordInDictionary(word)){setMessage(uiStrings.ошибки.нетСлова);setFlashColor('red');setTimeout(()=>setFlashColor(null),300);setTimeout(()=>{setMessage(\"\");setSelectedCells([]);setCurrentWord(\"\");},350);return;}// Подсчёт очков по бонусам букв\nlet wordScore=0;path.forEach(_ref2=>{let[r,c]=_ref2;const letter=roundData.board[r][c].letter.toUpperCase();wordScore+=letterBonuses[letter]||0;});setScore(score+wordScore);setFoundWords([...foundWords,word]);setMessage(`+${wordScore} очков`);setFlashColor('green');setTimeout(()=>setFlashColor(null),300);setTimeout(()=>{setMessage(\"\");setSelectedCells([]);setCurrentWord(\"\");},350);};// Проверка слова при завершении выбора (например, тап по последней клетке или авто)\nuseEffect(()=>{if(!roundData)return;// Проверяем только если длина слова >= 3\nif(currentWord.length>=3){if(roundData.words.includes(currentWord)&&!foundWords.includes(currentWord)){setFoundWords([...foundWords,currentWord]);setFlashColor('green');setTimeout(()=>setFlashColor(null),300);setTimeout(()=>{setSelectedCells([]);setCurrentWord(\"\");},350);}else if(currentWord.length>3&&!roundData.words.includes(currentWord)){setFlashColor('red');setTimeout(()=>setFlashColor(null),300);setTimeout(()=>{setSelectedCells([]);setCurrentWord(\"\");},350);}}},[currentWord,roundData,foundWords]);// Эмуляция смартфона: размеры Samsung Galaxy S24+ (CSS viewport 390x844px)\nconst phoneFrameStyle={width:'100vw',maxWidth:430,height:'100vh',maxHeight:932,margin:'0 auto',borderRadius:36,border:'8px solid #222',boxShadow:'0 0 32px #0006',background:'#111',overflow:'hidden',position:'relative',display:'flex',flexDirection:'column',alignItems:'stretch',justifyContent:'flex-start',minWidth:0,minHeight:0};const phoneContentStyle={width:'100%',height:'100%',background:'#fff',overflowY:'auto',WebkitOverflowScrolling:'touch',borderRadius:28,position:'relative',display:'flex',flexDirection:'column',alignItems:'stretch',justifyContent:'flex-start',minWidth:0,minHeight:0};// Свайп-старт по слову СТАРТ\nconst handleStartPath=path=>{const word=path.map(_ref3=>{let[r,c]=_ref3;return startBoard[r][c].letter;}).join(\"\");if(word===START_WORD){setStartFlashColor('green');setTimeout(()=>{// Генерируем поле и слова для нового раунда\nconst words=getRandomWords(6,gameDictionary);const board=generateBoard({name:\"\",reward:\"\",words});const allPossibleWords=findAllWordsOnBoard(board).filter(word=>word.length>=3);setRoundData({board,words:allPossibleWords});setLoadingMax(allPossibleWords.length);setLoadingProgress(0);setLoadingTimer(5);setScreen('loading');setStartSelected([]);setStartFlashColor(null);},350);}else{setStartFlashColor('red');setTimeout(()=>{setStartSelected([]);setStartFlashColor(null);},350);}};// Обёртка для любого экрана внутри рамки смартфона\nconst renderPhoneFrame=content=>/*#__PURE__*/_jsx(\"div\",{style:{background:'#222',minHeight:'100vh',minWidth:'100vw',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"div\",{style:phoneFrameStyle,children:/*#__PURE__*/_jsx(\"div\",{style:phoneContentStyle,children:content})})});if(screen==='welcome'){return renderPhoneFrame(/*#__PURE__*/_jsxs(\"div\",{style:{fontFamily:'sans-serif',padding:'4vw',width:'100%',maxWidth:430,margin:'0 auto',textAlign:'center',boxSizing:'border-box'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2.2rem',margin:'2vw 0 2vw 0'},children:\"\\u0424\\u0443\\u043D\\u0434\\u0430\\u043C\\u0435\\u043D\\u0442\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',margin:'6vw 0 3vw 0'},children:/*#__PURE__*/_jsx(\"div\",{style:{minWidth:180,width:'60vw',maxWidth:320},children:/*#__PURE__*/_jsx(GameBoard,{board:startBoard,selectedCells:startSelected,onPathComplete:handleStartPath,onDragUpdate:setStartSelected,flashColor:startFlashColor,columnsCount:START_WORD.length})})}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1rem',color:'#888',marginBottom:'6vw'},children:\"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E \\u0431\\u0443\\u043A\\u0432\\u0430\\u043C, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043D\\u0430\\u0447\\u0430\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{style:{margin:'2vw',padding:'3vw 8vw',fontSize:'1.1rem',cursor:'pointer',borderRadius:12,border:'1px solid #1976d2',background:'#f5faff',color:'#1976d2'},onClick:()=>setScreen('help'),children:\"\\u0421\\u043F\\u0440\\u0430\\u0432\\u043A\\u0430\"})]}));}if(screen==='loading'){return renderPhoneFrame(/*#__PURE__*/_jsxs(\"div\",{style:{fontFamily:'sans-serif',padding:'4vw',width:'100%',maxWidth:430,margin:'0 auto',textAlign:'center',position:'relative',boxSizing:'border-box'},children:[/*#__PURE__*/_jsxs(\"button\",{style:{position:'absolute',left:8,top:8,background:'none',border:'none',cursor:'pointer',display:'flex',flexDirection:'column',alignItems:'center'},onClick:()=>setScreen('welcome'),children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:28,lineHeight:1,color:'#1976d2'},children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:13,color:'#1976d2',marginTop:2},children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"})]}),/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.3rem',margin:'2vw 0 2vw 0'},children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043F\\u043E\\u043B\\u044F...\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',margin:'6vw 0',color:'#1976d2',fontWeight:700},children:loadingProgress}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.1rem',marginBottom:'3vw'},children:[\"\\u0411\\u0443\\u0434\\u0435\\u0442 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u043E \\u0441\\u043B\\u043E\\u0432: \",loadingMax]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1rem',color:'#888'},children:[\"\\u041E\\u0441\\u0442\\u0430\\u043B\\u043E\\u0441\\u044C \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434: \",loadingTimer]})]}));}if(screen==='help'){return renderPhoneFrame(/*#__PURE__*/_jsxs(\"div\",{style:{fontFamily:'sans-serif',padding:'4vw',width:'100%',maxWidth:430,margin:'0 auto',textAlign:'center',boxSizing:'border-box'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2.2rem',margin:'2vw 0 2vw 0'},children:\"\\u0424\\u0443\\u043D\\u0434\\u0430\\u043C\\u0435\\u043D\\u0442\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.2rem',margin:'6vw 0'},children:\"\\u0421\\u043F\\u0440\\u0430\\u0432\\u043A\\u0430 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0430 \\u043F\\u043E\\u0437\\u0436\\u0435.\"}),/*#__PURE__*/_jsx(\"button\",{style:{margin:'2vw',padding:'3vw 8vw',fontSize:'1.1rem',cursor:'pointer',borderRadius:12,border:'1px solid #1976d2',background:'#f5faff',color:'#1976d2'},onClick:()=>setScreen('welcome'),children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"})]}));}// Экран игры и анализатора\nif(phase==='analyzer'&&roundData){return renderPhoneFrame(/*#__PURE__*/_jsxs(\"div\",{style:{fontFamily:'sans-serif',padding:'4vw',width:'100%',maxWidth:430,margin:'0 auto',textAlign:'center',position:'relative',boxSizing:'border-box'},children:[/*#__PURE__*/_jsxs(\"button\",{style:{position:'absolute',left:8,top:8,background:'none',border:'none',cursor:'pointer',display:'flex',flexDirection:'column',alignItems:'center'},onClick:()=>setScreen('welcome'),children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:28,lineHeight:1,color:'#1976d2'},children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:13,color:'#1976d2',marginTop:2},children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"})]}),/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.3rem',margin:'2vw 0 2vw 0'},children:\"\\u0410\\u043D\\u0430\\u043B\\u0438\\u0437\\u0430\\u0442\\u043E\\u0440 \\u043F\\u043E\\u043B\\u044F\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.1rem',margin:'4vw 0'},children:[\"\\u041D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E \\u0441\\u043B\\u043E\\u0432: \",/*#__PURE__*/_jsx(\"b\",{children:analyzerWordCount})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1rem',color:'#1976d2',marginBottom:'3vw'},children:[\"\\u0414\\u043E \\u043D\\u0430\\u0447\\u0430\\u043B\\u0430 \\u0438\\u0433\\u0440\\u044B: \",timeLeft,\" \\u0441\\u0435\\u043A.\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{margin:'3vw 0',padding:'2vw',background:'#f5f5f5',borderRadius:8,fontSize:'0.95rem',color:'#333',maxHeight:120,overflowY:'auto'},children:[/*#__PURE__*/_jsx(\"b\",{children:\"\\u0412\\u0441\\u0435 \\u0441\\u043B\\u043E\\u0432\\u0430 \\u043D\\u0430 \\u043F\\u043E\\u043B\\u0435:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:8},children:roundData.words.slice(0,analyzerWordCount).map(word=>/*#__PURE__*/_jsx(\"span\",{style:{background:'#e0e0e0',borderRadius:4,padding:'2px 6px',margin:2},children:word},word))})]})]}));}// Экран игры\nif(roundData){return renderPhoneFrame(/*#__PURE__*/_jsxs(\"div\",{style:{fontFamily:'sans-serif',padding:'4vw',width:'100%',maxWidth:430,margin:'0 auto',position:'relative',boxSizing:'border-box'},children:[/*#__PURE__*/_jsxs(\"button\",{style:{position:'absolute',left:8,top:8,background:'none',border:'none',cursor:'pointer',display:'flex',flexDirection:'column',alignItems:'center'},onClick:()=>setScreen('welcome'),children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:28,lineHeight:1,color:'#1976d2'},children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:13,color:'#1976d2',marginTop:2},children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"})]}),/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2.2rem',margin:'2vw 0 2vw 0'},children:\"\\u0424\\u0443\\u043D\\u0434\\u0430\\u043C\\u0435\\u043D\\u0442\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.2rem',fontWeight:600,marginBottom:'2vw'},children:[phase==='playing'?uiStrings.игра.заголовок:uiStrings.результаты.заголовок,' ',/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'1.1rem',fontWeight:400,color:'#1976d2'},children:[timeLeft,\" \\u0441\\u0435\\u043A.\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{minHeight:32,color:message.includes(uiStrings.прочее.очков)?'green':'red',fontWeight:500},children:message}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2vw'},children:[uiStrings.игра.очки,\": \",score]}),/*#__PURE__*/_jsxs(\"div\",{style:{margin:'3vw 0',padding:'2vw',background:'#f5f5f5',borderRadius:8,fontSize:'0.95rem',color:'#333',maxHeight:120,overflowY:'auto'},children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"\\u0412\\u0441\\u0435 \\u0441\\u043B\\u043E\\u0432\\u0430 \\u043D\\u0430 \\u043F\\u043E\\u043B\\u0435 (\",roundData.words.length,\"):\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:8},children:roundData.words.map(word=>/*#__PURE__*/_jsx(\"span\",{style:{background:'#e0e0e0',borderRadius:4,padding:'2px 6px',margin:2},children:word},word))})]}),/*#__PURE__*/_jsx(GameBoard,{board:roundData.board,selectedCells:selectedCells,onPathComplete:phase==='playing'?handlePathComplete:undefined,onDragUpdate:phase==='playing'?setSelectedCells:undefined,flashColor:flashColor}),phase==='results'&&/*#__PURE__*/_jsx(Results,{foundWords:foundWords,possibleWords:roundData.words,leaderboard:leaderboard,usedWords:roundData.words})]}));}return null;};export default App;","map":{"version":3,"names":["React","useState","useEffect","GameBoard","Results","generateBoard","findAllWordsOnBoard","ROUND_DURATION","PAUSE_DURATION","letterBonuses","isWordInDictionary","gameDictionary","uiStrings","jsx","_jsx","jsxs","_jsxs","getRandomWords","count","dictionary","shuffled","sort","Math","random","slice","App","analyzerWordCount","setAnalyzerWordCount","screen","setScreen","START_WORD","startBoard","map","letter","idx","bonus","row","col","startFlashColor","setStartFlashColor","startSelected","setStartSelected","loadingProgress","setLoadingProgress","loadingMax","setLoadingMax","loadingTimer","setLoadingTimer","roundData","setRoundData","FIELD_SIZE","MIN_WORDS","MAX_ATTEMPTS","timeLeft","setTimeLeft","foundWords","setFoundWords","score","setScore","message","setMessage","selectedCells","setSelectedCells","currentWord","setCurrentWord","flashColor","setFlashColor","phase","setPhase","leaderboard","name","timer","setTimeout","clearTimeout","step","ceil","interval","setInterval","prev","min","clearInterval","words","board","reward","allPossibleWords","filter","word","length","current","target","duration","max","stepTime","handlePathComplete","path","ошибки","минимумБукв","_ref","r","c","join","includes","ужеВводилось","нетСлова","wordScore","forEach","_ref2","toUpperCase","phoneFrameStyle","width","maxWidth","height","maxHeight","margin","borderRadius","border","boxShadow","background","overflow","position","display","flexDirection","alignItems","justifyContent","minWidth","minHeight","phoneContentStyle","overflowY","WebkitOverflowScrolling","handleStartPath","_ref3","renderPhoneFrame","content","style","children","fontFamily","padding","textAlign","boxSizing","fontSize","onPathComplete","onDragUpdate","columnsCount","color","marginBottom","cursor","onClick","left","top","lineHeight","marginTop","fontWeight","flexWrap","gap","игра","заголовок","результаты","прочее","очков","очки","undefined","possibleWords","usedWords"],"sources":["C:/vsc/dament/src/App.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from \"react\";\r\nimport type { Cell as CellType } from \"./anagramGenerator\";\r\nimport GameBoard from \"./GameBoard\";\r\nimport Timer from \"./Timer\";\r\n// import WordInput from \"./WordInput\";\r\nimport Results from \"./Results\";\r\n// Импортируем игровую логику\r\nimport { generateBoard, findAllWordsOnBoard, ROUND_DURATION, PAUSE_DURATION, Cell, letterBonuses } from \"./anagramGenerator\";\r\nimport { BonusType } from \"./anagramGenerator\";\r\nimport { isWordInDictionary, gameDictionary } from \"./dictionary\";\r\nimport uiStrings from './ui-strings-categorized.json';\r\nimport { canFormWordOnBoard } from \"./anagramGenerator\";\r\n\r\n\r\n\r\nconst getRandomWords = (count: number, dictionary: string[]): string[] => {\r\n  const shuffled = [...dictionary].sort(() => Math.random() - 0.5);\r\n  return shuffled.slice(0, count);\r\n};\r\n\r\nconst App: React.FC = () => {\r\n  // Для анимации счетчика найденных слов на анализаторе\r\n  const [analyzerWordCount, setAnalyzerWordCount] = useState(0);\r\n  const [screen, setScreen] = useState<'welcome' | 'loading' | 'game' | 'help'>('welcome');\r\n  // Для свайп-старта\r\n  const START_WORD = 'СТАРТ';\r\n  // Слово СТАРТ в одну горизонтальную линию (1x5)\r\n  const startBoard: CellType[][] = [\r\n    [...START_WORD].map((letter, idx) => ({ letter, bonus: 'none', row: 0, col: idx }))\r\n  ];\r\n  const [startFlashColor, setStartFlashColor] = useState<string | null>(null);\r\n  const [startSelected, setStartSelected] = useState<Array<[number, number]>>([]);\r\n  const [loadingProgress, setLoadingProgress] = useState<number>(0);\r\n  const [loadingMax, setLoadingMax] = useState<number>(0);\r\n  const [loadingTimer, setLoadingTimer] = useState<number>(5);\r\n  // roundData: { board, words } - единый источник истины для поля и слов на раунд\r\n  const [roundData, setRoundData] = useState<{ board: Cell[][], words: string[] } | null>(null);\r\n  // Параметры генерации\r\n  const FIELD_SIZE = 4; // размер поля (4x4)\r\n  const MIN_WORDS = 15; // минимальное количество слов (снизили с 20)\r\n  const MAX_ATTEMPTS = 500; // увеличили количество попыток\r\n\r\n  // Сохраняем поле, сгенерированное для анализа, чтобы использовать его для первого раунда\r\n\r\n  const [timeLeft, setTimeLeft] = useState<number>(ROUND_DURATION);\r\n  const [foundWords, setFoundWords] = useState<string[]>([]);\r\n  const [score, setScore] = useState<number>(0);\r\n  const [message, setMessage] = useState<string>(\"\");\r\n  const [selectedCells, setSelectedCells] = useState<Array<[number, number]>>([]);\r\n  const [currentWord, setCurrentWord] = useState<string>(\"\");\r\n  const [flashColor, setFlashColor] = useState<string | null>(null);\r\n  const [phase, setPhase] = useState<'playing' | 'results' | 'analyzer'>('playing');\r\n  // deprecated: const [possibleWords, setPossibleWords] = useState<string[]>([]);\r\n  const leaderboard = [\r\n    { name: \"Вы\", score }\r\n  ];\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (screen === 'loading' && loadingTimer > 0) {\r\n      const timer = setTimeout(() => setLoadingTimer(loadingTimer - 1), 1000);\r\n      return () => clearTimeout(timer);\r\n    } else if (screen === 'loading' && loadingTimer === 0) {\r\n      setScreen('game');\r\n    }\r\n  }, [screen, loadingTimer]);\r\n\r\n  // useEffect для анимации загрузки\r\n  useEffect(() => {\r\n    if (screen === 'loading' && loadingProgress < loadingMax && loadingTimer > 0) {\r\n      const step = Math.ceil(loadingMax / (loadingTimer * 20));\r\n      const interval = setInterval(() => {\r\n        setLoadingProgress(prev => Math.min(prev + step, loadingMax));\r\n      }, 50);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [screen, loadingProgress, loadingMax, loadingTimer]);\r\n\r\n  useEffect(() => {\r\n    if (screen === 'loading' && loadingTimer > 0) {\r\n      const timer = setTimeout(() => setLoadingTimer(loadingTimer - 1), 1000);\r\n      return () => clearTimeout(timer);\r\n    } else if (screen === 'loading' && loadingTimer === 0) {\r\n      setScreen('game');\r\n    }\r\n  }, [screen, loadingTimer]);\r\n\r\n  // Таймер\r\n  useEffect(() => {\r\n    if (phase === 'playing' && timeLeft > 0) {\r\n      const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n    if (phase === 'playing' && timeLeft === 0) {\r\n      setSelectedCells([]);\r\n      setCurrentWord(\"\");\r\n      setPhase('results');\r\n      setTimeLeft(3); // 3 секунды на результаты (можно увеличить)\r\n    }\r\n    if (phase === 'results' && timeLeft > 0) {\r\n      const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n    if (phase === 'results' && timeLeft === 0) {\r\n      setPhase('analyzer');\r\n      setTimeLeft(PAUSE_DURATION); // 15 секунд анализатор\r\n      setAnalyzerWordCount(0); // сбрасываем счетчик для анимации\r\n    }\r\n    if (phase === 'analyzer' && timeLeft > 0) {\r\n      const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n    if (phase === 'analyzer' && timeLeft === 0) {\r\n      // Новый раунд: генерируем новое поле и слова один раз\r\n      const words = getRandomWords(6, gameDictionary);\r\n      const board = generateBoard({ name: \"\", reward: \"\", words });\r\n      const allPossibleWords = findAllWordsOnBoard(board).filter(word => word.length >= 3);\r\n      setRoundData({ board, words: allPossibleWords });\r\n      setFoundWords([]);\r\n      setPhase('playing');\r\n      setTimeLeft(ROUND_DURATION);\r\n    }\r\n  // Анимация увеличения числа найденных слов на анализаторе\r\n  useEffect(() => {\r\n    if (phase === 'analyzer' && roundData) {\r\n      setAnalyzerWordCount(0);\r\n      let current = 0;\r\n      const target = roundData.words.length;\r\n      const duration = Math.max(800, Math.min(2000, target * 40)); // 0.8-2 сек\r\n      const stepTime = Math.max(20, duration / (target || 1));\r\n      const interval = setInterval(() => {\r\n        current++;\r\n        setAnalyzerWordCount(prev => {\r\n          if (prev < target) return prev + 1;\r\n          clearInterval(interval);\r\n          return prev;\r\n        });\r\n        if (current >= target) {\r\n          clearInterval(interval);\r\n        }\r\n      }, stepTime);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [phase, roundData]);\r\n  }, [timeLeft, phase]);\r\n\r\n\r\n\r\n  // Обработка завершения пути (свайп/drag)\r\n  const handlePathComplete = (path: Array<[number, number]>) => {\r\n    if (!roundData) return;\r\n    if (path.length < 3) {\r\n      setMessage(uiStrings.ошибки.минимумБукв);\r\n      setFlashColor('red');\r\n      setTimeout(() => setFlashColor(null), 300);\r\n      setTimeout(() => { setMessage(\"\"); setSelectedCells([]); setCurrentWord(\"\"); }, 350);\r\n      return;\r\n    }\r\n    const word = path.map(([r, c]) => roundData.board[r][c].letter).join(\"\");\r\n    if (foundWords.includes(word)) {\r\n      setMessage(uiStrings.ошибки.ужеВводилось);\r\n      setFlashColor('red');\r\n      setTimeout(() => setFlashColor(null), 300);\r\n      setTimeout(() => { setMessage(\"\"); setSelectedCells([]); setCurrentWord(\"\"); }, 350);\r\n      return;\r\n    }\r\n    if (!roundData.words.includes(word) || !isWordInDictionary(word)) {\r\n      setMessage(uiStrings.ошибки.нетСлова);\r\n      setFlashColor('red');\r\n      setTimeout(() => setFlashColor(null), 300);\r\n      setTimeout(() => { setMessage(\"\"); setSelectedCells([]); setCurrentWord(\"\"); }, 350);\r\n      return;\r\n    }\r\n    // Подсчёт очков по бонусам букв\r\n    let wordScore = 0;\r\n    path.forEach(([r, c]) => {\r\n      const letter = roundData.board[r][c].letter.toUpperCase();\r\n      wordScore += letterBonuses[letter] || 0;\r\n    });\r\n    setScore(score + wordScore);\r\n    setFoundWords([...foundWords, word]);\r\n    setMessage(`+${wordScore} очков`);\r\n    setFlashColor('green');\r\n    setTimeout(() => setFlashColor(null), 300);\r\n    setTimeout(() => { setMessage(\"\"); setSelectedCells([]); setCurrentWord(\"\"); }, 350);\r\n  };\r\n\r\n  // Проверка слова при завершении выбора (например, тап по последней клетке или авто)\r\n  useEffect(() => {\r\n    if (!roundData) return;\r\n    // Проверяем только если длина слова >= 3\r\n    if (currentWord.length >= 3) {\r\n      if (roundData.words.includes(currentWord) && !foundWords.includes(currentWord)) {\r\n        setFoundWords([...foundWords, currentWord]);\r\n        setFlashColor('green');\r\n        setTimeout(() => setFlashColor(null), 300);\r\n        setTimeout(() => {\r\n          setSelectedCells([]);\r\n          setCurrentWord(\"\");\r\n        }, 350);\r\n      } else if (currentWord.length > 3 && !roundData.words.includes(currentWord)) {\r\n        setFlashColor('red');\r\n        setTimeout(() => setFlashColor(null), 300);\r\n        setTimeout(() => {\r\n          setSelectedCells([]);\r\n          setCurrentWord(\"\");\r\n        }, 350);\r\n      }\r\n    }\r\n  }, [currentWord, roundData, foundWords]);\r\n\r\n  // Эмуляция смартфона: размеры Samsung Galaxy S24+ (CSS viewport 390x844px)\r\n  const phoneFrameStyle: React.CSSProperties = {\r\n    width: '100vw',\r\n    maxWidth: 430,\r\n    height: '100vh',\r\n    maxHeight: 932,\r\n    margin: '0 auto',\r\n    borderRadius: 36,\r\n    border: '8px solid #222',\r\n    boxShadow: '0 0 32px #0006',\r\n    background: '#111',\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'flex-start',\r\n    minWidth: 0,\r\n    minHeight: 0\r\n  };\r\n  const phoneContentStyle: React.CSSProperties = {\r\n    width: '100%',\r\n    height: '100%',\r\n    background: '#fff',\r\n    overflowY: 'auto',\r\n    WebkitOverflowScrolling: 'touch',\r\n    borderRadius: 28,\r\n    position: 'relative',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'flex-start',\r\n    minWidth: 0,\r\n    minHeight: 0\r\n  };\r\n\r\n  // Свайп-старт по слову СТАРТ\r\n  const handleStartPath = (path: Array<[number, number]>) => {\r\n    const word = path.map(([r, c]) => startBoard[r][c].letter).join(\"\");\r\n    if (word === START_WORD) {\r\n      setStartFlashColor('green');\r\n      setTimeout(() => {\r\n        // Генерируем поле и слова для нового раунда\r\n        const words = getRandomWords(6, gameDictionary);\r\n        const board = generateBoard({ name: \"\", reward: \"\", words });\r\n        const allPossibleWords = findAllWordsOnBoard(board).filter(word => word.length >= 3);\r\n        setRoundData({ board, words: allPossibleWords });\r\n        setLoadingMax(allPossibleWords.length);\r\n        setLoadingProgress(0);\r\n        setLoadingTimer(5);\r\n        setScreen('loading');\r\n        setStartSelected([]);\r\n        setStartFlashColor(null);\r\n      }, 350);\r\n    } else {\r\n      setStartFlashColor('red');\r\n      setTimeout(() => {\r\n        setStartSelected([]);\r\n        setStartFlashColor(null);\r\n      }, 350);\r\n    }\r\n  };\r\n\r\n  // Обёртка для любого экрана внутри рамки смартфона\r\n  const renderPhoneFrame = (content: React.ReactNode) => (\r\n    <div style={{ background: '#222', minHeight: '100vh', minWidth: '100vw', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n      <div style={phoneFrameStyle}>\r\n        <div style={phoneContentStyle}>\r\n          {content}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (screen === 'welcome') {\r\n    return renderPhoneFrame(\r\n      <div style={{ fontFamily: 'sans-serif', padding: '4vw', width: '100%', maxWidth: 430, margin: '0 auto', textAlign: 'center', boxSizing: 'border-box' }}>\r\n        <h1 style={{ fontSize: '2.2rem', margin: '2vw 0 2vw 0' }}>Фундамент</h1>\r\n        <div style={{ display: 'flex', justifyContent: 'center', margin: '6vw 0 3vw 0' }}>\r\n          <div style={{ minWidth: 180, width: '60vw', maxWidth: 320 }}>\r\n            <GameBoard\r\n              board={startBoard}\r\n              selectedCells={startSelected}\r\n              onPathComplete={handleStartPath}\r\n              onDragUpdate={setStartSelected}\r\n              flashColor={startFlashColor}\r\n              columnsCount={START_WORD.length}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div style={{ fontSize: '1rem', color: '#888', marginBottom: '6vw' }}>Проведите по буквам, чтобы начать</div>\r\n        <button style={{ margin: '2vw', padding: '3vw 8vw', fontSize: '1.1rem', cursor: 'pointer', borderRadius: 12, border: '1px solid #1976d2', background: '#f5faff', color: '#1976d2' }} onClick={() => setScreen('help')}>Справка</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (screen === 'loading') {\r\n    return renderPhoneFrame(\r\n      <div style={{ fontFamily: 'sans-serif', padding: '4vw', width: '100%', maxWidth: 430, margin: '0 auto', textAlign: 'center', position: 'relative', boxSizing: 'border-box' }}>\r\n        {/* Кнопка назад */}\r\n        <button\r\n          style={{ position: 'absolute', left: 8, top: 8, background: 'none', border: 'none', cursor: 'pointer', display: 'flex', flexDirection: 'column', alignItems: 'center' }}\r\n          onClick={() => setScreen('welcome')}\r\n        >\r\n          <span style={{ fontSize: 28, lineHeight: 1, color: '#1976d2' }}>&larr;</span>\r\n          <span style={{ fontSize: 13, color: '#1976d2', marginTop: 2 }}>Назад</span>\r\n        </button>\r\n        <h2 style={{ fontSize: '1.3rem', margin: '2vw 0 2vw 0' }}>Загрузка поля...</h2>\r\n        <div style={{ fontSize: '2rem', margin: '6vw 0', color: '#1976d2', fontWeight: 700 }}>{loadingProgress}</div>\r\n        <div style={{ fontSize: '1.1rem', marginBottom: '3vw' }}>Будет доступно слов: {loadingMax}</div>\r\n        <div style={{ fontSize: '1rem', color: '#888' }}>Осталось секунд: {loadingTimer}</div>\r\n      </div>\r\n    );\r\n  }\r\n  if (screen === 'help') {\r\n    return renderPhoneFrame(\r\n      <div style={{ fontFamily: 'sans-serif', padding: '4vw', width: '100%', maxWidth: 430, margin: '0 auto', textAlign: 'center', boxSizing: 'border-box' }}>\r\n        <h1 style={{ fontSize: '2.2rem', margin: '2vw 0 2vw 0' }}>Фундамент</h1>\r\n        <div style={{ fontSize: '1.2rem', margin: '6vw 0' }}>Справка будет добавлена позже.</div>\r\n        <button style={{ margin: '2vw', padding: '3vw 8vw', fontSize: '1.1rem', cursor: 'pointer', borderRadius: 12, border: '1px solid #1976d2', background: '#f5faff', color: '#1976d2' }} onClick={() => setScreen('welcome')}>Назад</button>\r\n      </div>\r\n    );\r\n  }\r\n  // Экран игры и анализатора\r\n  if (phase === 'analyzer' && roundData) {\r\n    return renderPhoneFrame(\r\n      <div style={{ fontFamily: 'sans-serif', padding: '4vw', width: '100%', maxWidth: 430, margin: '0 auto', textAlign: 'center', position: 'relative', boxSizing: 'border-box' }}>\r\n        {/* Кнопка назад */}\r\n        <button\r\n          style={{ position: 'absolute', left: 8, top: 8, background: 'none', border: 'none', cursor: 'pointer', display: 'flex', flexDirection: 'column', alignItems: 'center' }}\r\n          onClick={() => setScreen('welcome')}\r\n        >\r\n          <span style={{ fontSize: 28, lineHeight: 1, color: '#1976d2' }}>&larr;</span>\r\n          <span style={{ fontSize: 13, color: '#1976d2', marginTop: 2 }}>Назад</span>\r\n        </button>\r\n        <h2 style={{ fontSize: '1.3rem', margin: '2vw 0 2vw 0' }}>Анализатор поля</h2>\r\n        <div style={{ fontSize: '1.1rem', margin: '4vw 0' }}>Найдено слов: <b>{analyzerWordCount}</b></div>\r\n        <div style={{ fontSize: '1rem', color: '#1976d2', marginBottom: '3vw' }}>До начала игры: {timeLeft} сек.</div>\r\n        <div style={{ margin: '3vw 0', padding: '2vw', background: '#f5f5f5', borderRadius: 8, fontSize: '0.95rem', color: '#333', maxHeight: 120, overflowY: 'auto' }}>\r\n          <b>Все слова на поле:</b>\r\n          <div style={{ display: 'flex', flexWrap: 'wrap', gap: 8 }}>\r\n            {roundData.words.slice(0, analyzerWordCount).map(word => (\r\n              <span key={word} style={{ background: '#e0e0e0', borderRadius: 4, padding: '2px 6px', margin: 2 }}>{word}</span>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  // Экран игры\r\n  if (roundData) {\r\n    return renderPhoneFrame(\r\n      <div style={{ fontFamily: 'sans-serif', padding: '4vw', width: '100%', maxWidth: 430, margin: '0 auto', position: 'relative', boxSizing: 'border-box' }}>\r\n        {/* Кнопка назад */}\r\n        <button\r\n          style={{ position: 'absolute', left: 8, top: 8, background: 'none', border: 'none', cursor: 'pointer', display: 'flex', flexDirection: 'column', alignItems: 'center' }}\r\n          onClick={() => setScreen('welcome')}\r\n        >\r\n          <span style={{ fontSize: 28, lineHeight: 1, color: '#1976d2' }}>&larr;</span>\r\n          <span style={{ fontSize: 13, color: '#1976d2', marginTop: 2 }}>Назад</span>\r\n        </button>\r\n        <h1 style={{ fontSize: '2.2rem', margin: '2vw 0 2vw 0' }}>Фундамент</h1>\r\n        <div style={{ fontSize: '1.2rem', fontWeight: 600, marginBottom: '2vw' }}>\r\n          {phase === 'playing' ? uiStrings.игра.заголовок : uiStrings.результаты.заголовок}\r\n          {' '}\r\n          <span style={{ fontSize: '1.1rem', fontWeight: 400, color: '#1976d2' }}>\r\n            {timeLeft} сек.\r\n          </span>\r\n        </div>\r\n        <div style={{ minHeight: 32, color: message.includes(uiStrings.прочее.очков) ? 'green' : 'red', fontWeight: 500 }}>{message}</div>\r\n        <div style={{ marginBottom: '2vw' }}>{uiStrings.игра.очки}: {score}</div>\r\n        {/* ОТЛАДКА: выводим все возможные слова на этом поле */}\r\n        <div style={{ margin: '3vw 0', padding: '2vw', background: '#f5f5f5', borderRadius: 8, fontSize: '0.95rem', color: '#333', maxHeight: 120, overflowY: 'auto' }}>\r\n          <b>Все слова на поле ({roundData.words.length}):</b>\r\n          <div style={{ display: 'flex', flexWrap: 'wrap', gap: 8 }}>\r\n            {roundData.words.map(word => (\r\n              <span key={word} style={{ background: '#e0e0e0', borderRadius: 4, padding: '2px 6px', margin: 2 }}>{word}</span>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <GameBoard \r\n          board={roundData.board} \r\n          selectedCells={selectedCells}\r\n          onPathComplete={phase === 'playing' ? handlePathComplete : undefined}\r\n          onDragUpdate={phase === 'playing' ? setSelectedCells : undefined}\r\n          flashColor={flashColor}\r\n        />\r\n        {phase === 'results' && (\r\n          <Results \r\n            foundWords={foundWords} \r\n            possibleWords={roundData.words} \r\n            leaderboard={leaderboard}\r\n            usedWords={roundData.words}\r\n          />\r\n        )}\r\n\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}